MVC Tutorial
============

## Шаг 5 - валидация и модель выходных данных ##

### Проверка входных данных ###

Классические представления не проверяют требования бизнес-логики, реализуя только базовые проверки (например, чтобы 
пользователь ввёл число, а не строку). В расчёте квадратного корня есть проверка - число должно быть неотрицательным. 
Эта проверка должна быть не в представлении, а в контроллере, потому что эта проверка относится к бизнес-логике. Сама
проверка может быть в коде контроллера, а может быть в специальном классе - валидаторе. Данная проверка выполнена в 
классе `NotNegativeValidator`. 

Эта проверка простая - принимает только свои введённые данные пользователя (для проверки не требуются другие данные 
приложения, например, жанные из базы данных). В принципе, такие простые проверки можно проверять в представлении, чтобы
не усложнять код контроллера - ведь в этом случае придётся хранить информацию, какие валидаторы нужны для какого 
расчёта.

### Модель выходных данных ###

Предложим, что нужно сделать новый расчёт - статистику списка данных: минимальный и максимальный элементы и среднее 
значение. Выходными данными этого расчёта является не вещественное число (`double`), как было в других расчётах, а
несколько чисел. Требуется изменить способ возврата выходных данных - вместо возврата числа возвращать объект модели
данных (`IDataModel`). Предыдущие два расчёта возвращают число двойной точности, поэтому, моделью является класс 
`DoubleModel`. Для расчёта статистики списка моделей требуется создать две модели - входных и выходных данных расчёта,
`ListModel` и `ListStatisticModel`.

Большим минусом такого изменения является то, что типом входного аргумента метода `PrintResult()` станет интерфейс 
`IDataModel`, и придётся приводить его к нужному типу, что неудобно. В языке C# есть возможность исправить этот 
недостаток - шаблонные типы (generics). Об этом следующий шаг.

[← Предыдущий шаг](4-step.md) | [Содержание](index.md)
